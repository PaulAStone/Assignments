---
title: "Week 8 Exercise: Git On"
author: "Z620: Quantitative Biodiversity, Indiana University"
date: "March 6, 2015"
header-includes:
   - \usepackage{graphicx}
   - \usepackage{array}
output: pdf_document
geometry: margin=2.54cm
---

## OVERVIEW
A major goal of Quantitative Biodiversity is to provide you with the tools to conduct reproducible science.
To this end, we have been using Github throughout the semester. 
As you know, Github allows one to manage changes to data and code in a way that helps ensure the integrity of a project.
Github is also a great tool for collaborating with other researchers.
However, we've been using an Enterprise version of Github that is resitricted to people with an IU affilition. 
Obviously, this may hinder collaboration with your colleagues at other institutions. 
In this handout, we present a workflow that will help facilitate reproducible science upon your "graduation" from Quantitative Biodiversity.

After completing this exercise you will know how to:  
&nbsp;&nbsp;1. Create a source-code file   
&nbsp;&nbsp;2. Open a github.com account (not restricted to IU)   
&nbsp;&nbsp;3. Create a Github repository   
&nbsp;&nbsp;4. Create and modify a README.md file   
&nbsp;&nbsp;5. Properly license your work, i.e., open but copyrighted   

## 1) Make New Repository
So far this semester you have been working with a repository that was created. 
Now, you are going to make your own repository called QBTools. 
This repository will contain code that will be used for quantitative biodiversity analyses.
Hopefully, at this point you know the utility of such code.
So let's get started:

1. Navigate to GitHub.iu.edu
2. Select the "Create new..." button.

    \includegraphics[scale=1]{images/GitCreateNew.png}
  
3. Select "New Repository"

    \includegraphics[scale=1]{images/GitCreateNewRepo.png}
  
4. Give your Repository a name (e.g., QBTools)
5. Decide if your repository should be Public or Private (your choice)
6. Initialize with a README
Optional: Add .gitignore for R

    \includegraphics[scale=0.75]{images/GitRepoInitialize.png}
  
7. When you are done select "Create repository"

    \includegraphics[scale=1]{images/GitCreate.png}
  
8. Clone your new repo onto your local machine

    ```sh
    cd ~/GitHub
    git clone https://github.iu.edu/User_Name/QBTools
    cd ./QBTools
    git status
    ```
9. At this point you are ready to go, but it is always good to check your remotes.
You should have just one remote: origin

    ```sh
    git remote -v
    ```


## 1) CREATE SOURCE CODE FILE
Last week we learned the benefit of using a R source code file. 
As a reminder, a source code file has user-defined functions that are required for certain analyses.
The benefit of source files is that they contain "vetted" code that can be used across multiple projects. 
Last week, that file contained code for importing files created by the popular community sequencing software `mothur` (http://www.mothur.org/).
This week, we will make our own source code file containing code (functions) that we created during QB.

1. Create a blank R file.  

2. In your menu bar, choose File > New File > R Script (alternatively, Ctrl + Shift + N)  

3. Add a file header.  

This should be a commented out section that give all of the required information for users to use this script.
Additionally, this may contain notes for the user.

Here is an example header:

```sh
################################################################################
#                                                                              #
# Quantitative Biodiversity Functions Source Code                              #
#                                                                              #
# Written by: Student X                                                        #
#                                                                              #
# Last update: 2015/03/06                                                      #
#                                                                              #
# Notes:                                                                       #  
#                                                                              #
################################################################################
```

There are a few things to notice about the header:  
1. The comment character (#) prevents R from interpreting the information in the header  
2. The header is formatted for stylystic purposes; it is 80 characters wide (as should your file), and it is boxed off using comment characters.  
There are other ways of stylizing your header, this is just one option.

4. Add content
A. The first thing you will want to do is add and require commands.
This is a bit different than before because we need to make sure that the packages are installed.
By default, the following code will try to load a package and will then install if not found.

```sh
require("vegan")||install.packages("vegan");require("vegan")

```
You can cusotmize this code for any package that you want loaded for our source file

B. Add functions:
The major goal this week is to make a source file that contains all of the functions we wrote this semester.
So now you are going to populate this file with those function.
Go through all of your assignments and find the functions you want to save.
Copy those functions into this new source file. 
Add comments about each function before the code.
For example:

```sh
# My_Function: has some cool code
# Inputs: x, y, z

My_Function <- function(x, y, z){
  ...
}

```

## 2) CREATE A GITHUB.COM ACCOUNT


## 3) MAKING a GITHUB REPO
So far this semester you have been working with a repository that was created 

Make students choose "public". If they don't feel comfortabel with this for whatever reason, they have the following options

1) don't migrate your files  
2) choose private at which time Github is likely to ask for your credit card information  
3) make public for now and then request private repos from github

## 4) CREATE A README.md FILE

We talked about supplying them with a template, which might have info such as description, software versions, author information, contact information, bugs/files/patches, etc. 

In the beginning of the course, we had you edit a README.md file, which gave us some information about you.
In general, README files provide:

* 1.) More or less detailed information on the content of a repository
* 2.) The version of programs and software, data, etc. needed to run the code
* 3.) Contact information for the owner of the repository (e.g., email)
* 4.) Potential bugs  

This last one is commonplace among people who develop and distribute software (e.g. ecologists who develop R packages) and among folks who engage seriously in reproducible science.

## 5) MIGRATING TO GITHUB.COM
notes, add:
1. how to setup
2. create a repo...GitHub will ask whether you want to add a README.md.
3. add a license...should the licensing section be moved here, as a subsection?
4. add source file

## 6) LICENSING YOUR CODE 
(this should come after "MIGRATING" because you can't automatically license code on IU's GitHub. If you figure out how to add a license, it won't mean much because IU probably owns whatever you put on their Enterprise, i.e., IU rights supercede your license)

When setting up public repositories on GitHub, you will want to license your work because it will be in the public domain. 
Licenses are what allow you to establish the right to waive responsibilities and liabilities, to attract copyright, and to legally establish intellectual primacy.
Licensing allows us to be visible, transparent, and fearless professionals; protected by putting our ideas and work into the public domain while maintaining rights and restrictions to (re)use and (re)distribution.

GitHub offers a broad selection of licenses that range from short and tidy (MIT) to the thorough but lengthy (GPL V3); see http://choosealicense.com/.
9 Simple ways to make it easier to (re)use your data. There's lots of goodies of in it, the repo which is found here:  https://github.com/weecology/data-sharing-paper.






